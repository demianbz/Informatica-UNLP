ORG 1000h ;PARAMETROS, Memoria  de datos
   NUM1 DW 5
   NUM2 DW 3
ORG 3000h ;SUBRUTINAS
   ;SWAP: INTERCAMBIA DOS PARAMETROS PASADOS POR REFERNCIA A
   ;TRAVES DE LA PILA
   SWAP:MOV BX,SP ;MUEVO A BX EL SP, PARA PODER TRASLADARME EN LA PILA
   
   ;TOMAR DIR NUM1
   ADD BX,4
   MOV AX,[BX]

   ;TOMAR DIR NUM2
   SUB BX,2
   MOV CX,[BX]

   ;TOMAR VALOR NUM1
   MOV BX,AX ;BX=DIR NUM 1
   MOV AX,[BX] ;AX= VALOR NUM1
   MOV DX,BX ;GUARDAMOS DIR NUM1, PARA NO PISAR LA PILA

   ;TOMAR VALOR NUM2
   MOV BX,CX ;BX= DIR NUM2
   MOV CX,[BX] ;CX=VALOR NUM2

   ;INSERTAR VALOR NUM1 EN DIR NUM2
   MOV [BX],AX ;DIR NUM2 -> NUM1

   ;INSERTAR VALOR NUM2 EN DIR NUM1
   MOV BX,DX ;BX=DIR NUM1
   MOV BX,DX ; DIR NUM1 -> NUM2

   RET
   
ORG 2000h ;PROGRAMA PRINCIPAL
  ;MANDAMOS LOS PARAMATROS POR REFERENCIA DESDE EL PROGRAMA PRINCIPAL
  ;A TRAVES DE LA PILA
  MOV AX, OFFSET NUM1
  PUSH AX
  MOV AX, OFFSET NUM2
  PUSH AX
  CALL SWAP
  HLT
  END